<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <base target="_parent">
    <!-- Default styles of dashboard widgets -->
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/hub-dashboard-addons@latest/dashboard.css">
    <!-- Include dashboard connector from CDN -->
    <script src="https://unpkg.com/hub-dashboard-addons@latest"></script>
    <!-- Syntax highlighting for code blocks -->
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script>
        function preload() {
            let fromInput = document.getElementById('from');
            fromInput.onchange = function () {
                let fromDate = new Date(Date.parse(fromInput.value));
                let toInput = document.getElementById('to');
                toInput.setAttribute('min', fromDate.toISOString().split('T')[0]);
            }
        }
    </script>
</head>
<body>
<div id="settings" hidden="true">
    <div>
        <label for="token">Token:</label>
        <input type='text' id='token' placeholder='Enter perm:token'>
    </div>
    <div>
        <label for="title">Название виджета:</label>
        <input type='text' id='title' placeholder='Enter widget name...'>
    </div>
    <div>
        <label for="vacation">Отпуск:</label>
        <input type='text' id='vacation' placeholder='Enter vacation issue id...'>
    </div>
    <div>
        <label for="sick-leave">Больничный:</label>
        <input type='text' id='sick-leave' placeholder='Enter sick leave issue id...'>
    </div>
    <div>
        <label for="sick-day">Сикдэй:</label>
        <input type='text' id='sick-day' placeholder='Enter sick day issue id...'>
    </div>
    <div>
        <label for="own-expense">Отгул за свой счет:</label>
        <input type='text' id='own-expense' placeholder='Enter own expense leave issue id...'>
    </div>
    <div>
        <input type='button' id='save' value='Save'>
        <input type='button' id='cancel' value='Cancel'>
    </div>
</div>
<div id="leave-form">
    <form>
        <div>
            <label for='from'>От:</label>
            <input id='from' type='date' required>
        </div>
        <div>
            <label for='to'>До:</label>
            <input id='to' type='date' required>
        </div>
        <div>
            <select id="leave-types">
                <option selected="" id="vacation-option">
                    Отпуск
                </option>
                <option id="sick-leave-option">
                    Больничный
                </option>
                <option id="sick-day-option">
                    Сикдэй
                </option>
                <option id="own-expense-option">
                    За свой счет
                </option>
            </select>
        </div>

        <script>
            preload();
        </script>
        <input type='submit' value='Track' id="track">
    </form>
    <p id="error"></p>
    <textarea id="debug"></textarea>
</div>
<script src="index.js"></script>
</body>
</html>